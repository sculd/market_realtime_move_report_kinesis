/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
    id 'maven-publish'
}

repositories {
    mavenLocal()
    maven {
        url = uri('https://repo.maven.apache.org/maven2/')
    }
}

dependencies {
    implementation platform('com.google.cloud:libraries-bom:24.1.1')
    implementation 'com.google.cloud:google-cloud-bigquery:2.6.2'
    implementation 'org.slf4j:slf4j-api:1.7.32'
    implementation 'org.slf4j:slf4j-simple:1.7.32'
    implementation 'software.amazon.kinesis:amazon-kinesis-client:2.3.9'
    implementation 'com.google.code.gson:gson:2.8.9'
    implementation 'com.amazonaws:aws-java-sdk-dynamodb:1.12.122'
    implementation 'software.amazon.awssdk:dynamodb:2.17.93'
    implementation 'com.slack.api:bolt-jetty:1.15.0'
    implementation 'com.google.guava:guava:31.0-jre'
    implementation 'com.konghq:unirest-java:3.13.4'
    implementation 'org.apache.commons:commons-lang3:3.12.0'
    implementation 'org.apache.commons:commons-text:1.9'
    implementation 'commons-cli:commons-cli:1.5.0'
    implementation 'org.decimal4j:decimal4j:1.0.3'
    implementation 'org.apache.commons:commons-math3:3.6.1'
    implementation 'com.opencsv:opencsv:5.5.2'
    implementation 'io.github.binance:binance-connector-java:1.3.0'
    implementation 'com.google.code.gson:gson:2.9.0'
    testImplementation 'junit:junit:4.4'
    testImplementation 'org.assertj:assertj-core:3.21.0'
    testImplementation 'org.hamcrest:hamcrest-core:2.2'
    compileOnly 'org.projectlombok:lombok:1.18.22'
    annotationProcessor 'org.projectlombok:lombok:1.18.22'
}

group = 'org.example'
version = '1.0-SNAPSHOT'
description = 'market_realtime_move_report_kinesis'
java.sourceCompatibility = JavaVersion.VERSION_1_8

publishing {
    publications {
        maven(MavenPublication) {
            from(components.java)
        }
    }
}

jar {
    from {
        (configurations.runtimeClasspath).collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
    manifest {
        attributes('Main-Class': 'com.main.MainApp')
    }
    duplicatesStrategy = 'include'
}

/*
 not really used, kept for reference.
 */
task tradingJar(type: Jar) {
    from {
        (configurations.runtimeClasspath).collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
    with jar
    manifest {
        attributes('Main-Class': 'com.tradingbinancechangesanomalyreversal.App')
    }
    zip64 = true
    duplicatesStrategy = 'include'
    archiveFileName = 'trading.jar'
}
